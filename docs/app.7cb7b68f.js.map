{"version":3,"sources":["js/keys.js","js/app.js"],"names":["newsKey","imdbKey","omdbKey","tmdbKey","nytimeKey","reddit","fetch","then","res","json","results","data","children","forEach","result","console","log","article","document","createElement","innerHTML","thumbnail","permalink","title","subreddit","author","subreddit_name_prefixed","ups","getElementById","appendChild","addEventListener","event","constructModalContent","catch","err","newsAPI","articles","urlToImage","url","source","name","description","publishedAt","nyTimes","multimedia","section","byline","abstract","created_date","TMDb","i","length","id","resulted","companyArr","x","production_companies","push","genreArr","g","genres","poster_path","homepage","original_title","overview","release_date","target","classList","value","includes","querySelector","style","overflow","display","setTimeout","remove","dataset","img","content","link","setNewsSource","setSourceFunc","text","createTextNode","onclick","add","evt","window","onload"],"mappings":"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","file":"app.7cb7b68f.js","sourceRoot":"..","sourcesContent":["export const newsKey = '33e57662681e463aa7c9b00c00e6d8f1'\nexport const imdbKey = '695a3da407msh2b287ebca3f5ba2p15ffcdjsn23dcf695e873'\nexport const omdbKey = 'de948a4b'\nexport const tmdbKey = 'ff8faf4a02c091377dea9ed8d8db2c79'\nexport const nytimeKey = 'CAjG768Tj9tZz6cGQgMsnhuJivIYGaar'","/*\n  Please add all Javascript code to this file.\n*/\n\n//Keys\nimport { newsKey } from './keys.js';\nimport { nytimeKey } from './keys.js';\nimport { tmdbKey } from './keys.js';\n\n//Function for Reddit API to be used with onClick\nfunction reddit() {\n  // Reddit API with Proxy\n  let apiCall = fetch('https://cors.bridged.cc/https://www.reddit.com/top.json');\n  apiCall\n  .then(res => res.json())\n  .then(results => {\n    results.data.children.forEach(function(result){\n      console.log(result.data)\n     \n      let article = document.createElement('article');\n      article.innerHTML = `\n        <article class=\"article\">\n          <section class=\"featuredImage\">\n            <img src=\"${result.data.thumbnail}\" alt=\"\" />\n          </section>\n          <section class=\"articleContent\">\n              <a href=\"https://www.reddit.com${result.data.permalink}\" target=\"_blank\"><h3>${result.data.title}</h3></a>\n              <h6></br>Reddit</br></br>Category - ${result.data.subreddit}</br></br>Author - ${result.data.author}</h6>\n              <button class=\"modal-btn\" \n                data-title=\"${result.data.title}\" \n                data-img=${result.data.thumbnail}\n                data-content=\"${result.data.subreddit_name_prefixed}\" \n                data-link=\"https://www.reddit.com${result.data.permalink}\" \n                type=\"button\">\n                  More\n              </button>\n          </section>\n          <section class=\"impressions\">\n            Upvotes:</br>${result.data.ups}\n          </section>\n          <div class=\"clearfix\"></div>\n        </article>\n      `;\n      document.getElementById('main').appendChild(article);\n\n      document.addEventListener('click', function(event) {\n        constructModalContent(event);\n      });  \n\n    });\n  })\n  .catch(err => console.log(err));\n}\n\nfunction newsAPI() {\n  // News API\n  let apiCall = fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${process.env.newsKey}`);\n  apiCall\n  .then(res => res.json())\n  .then(results => {\n    console.log(results.articles);\n    results.articles.forEach(function(result){\n    \n      let article = document.createElement('article');\n      article.innerHTML = `\n        <article class=\"article\">\n          <section class=\"featuredImage\">\n            <img src=\"${result.urlToImage}\" alt=\"\" />\n          </section>\n          <section class=\"articleContent\">\n              <a href=\"${result.url}\" target=\"_blank\"><h3>${result.title}</h3></a>\n              <h6></br>NEWS API</br></br>Source - ${result.source.name}</br></br>Author - ${result.author}</h6>\n              <button class=\"modal-btn\" \n                data-title=\"${result.title}\" \n                data-img=\"${result.urlToImage}\"\n                data-content=\"${result.description}\" \n                data-link=\"${result.url}\" \n                type=\"button\">\n                  More\n              </button>\n          </section>\n          <section class=\"impressions\">\n            Published:</br>${result.publishedAt}\n          </section>\n          <div class=\"clearfix\"></div>\n        </article>\n      `;\n      document.getElementById('main').appendChild(article);\n\n      document.addEventListener('click', function(event) {\n        constructModalContent(event);\n      }); \n    });\n  })\n  .catch(err => console.log(err));\n}\n\nfunction nyTimes() {\n  // NY Times Science API\n  let apiCall = fetch(`https://api.nytimes.com/svc/topstories/v2/science.json?api-key=${process.env.nytimeKey}`);\n  apiCall\n  .then(res => res.json())\n  .then(results => {\n    console.log(results.results);\n    results.results.forEach(function(result){\n    \n      let article = document.createElement('article');\n      article.innerHTML = `\n        <article class=\"article\">\n          <section class=\"featuredImage\">\n            <img src=\"${result.multimedia[0].url}\" alt=\"\" />\n          </section>\n          <section class=\"articleContent\">\n              <a href=\"${result.url}\" target=\"_blank\"><h3>${result.title}</h3></a>\n              <h6></br>NY TIMES (Science)</br></br>Categroy - ${result.section}</br></br>Author - ${result.byline}</h6>\n              <button class=\"modal-btn\" \n                data-title=\"${result.title}\" \n                data-img=\"${result.multimedia[0].url}\"\n                data-content=\"${result.abstract}\" \n                data-link=\"${result.url}\" \n                type=\"button\">\n                  More\n              </button>\n          </section>\n          <section class=\"impressions\">\n            Published:</br>${result.created_date}\n          </section>\n          <div class=\"clearfix\"></div>\n        </article>\n      `;\n      document.getElementById('main').appendChild(article);\n\n      document.addEventListener('click', function(event) {\n        constructModalContent(event);\n      });\n    });\n  })\n  .catch(err => console.log(err));\n}\n\nfunction TMDb() {\n  // The Movie Database API\n  fetch(`https://api.themoviedb.org/3/movie/upcoming?api_key=${tmdbKey}&language=en-US&page=1`)\n  .then(res => res.json())\n  .then(results => {\n    for(let i = 0; i < results.results.length; i++) {\n      fetch(\"https://api.themoviedb.org/3/movie/\" + results.results[i].id + `?api_key=${process.env.tmdbKey}`)\n      .then(res => res.json())\n      .then(resulted => {\n      console.log(resulted);\n\n        let companyArr = [];\n\n        for (let x = 0; x < resulted.production_companies.length; x++) {\n          console.log(resulted.production_companies[x].name);\n          companyArr.push(resulted.production_companies[x].name);  \n        }\n        console.log(companyArr);\n\n        let genreArr = [];\n\n        for (let g = 0; g < resulted.genres.length; g++) {\n          console.log(resulted.genres[g].name);\n          genreArr.push(resulted.genres[g].name);\n        }\n        console.log(genreArr);\n\n\n        let article = document.createElement('article');\n        article.innerHTML = `\n          <article class=\"article\">\n            <section class=\"featuredImage\">\n              <img src=\"https://image.tmdb.org/t/p/w500${resulted.poster_path}\" alt=\"\" />\n            </section>\n            <section class=\"articleContent\">\n              <a href=\"${resulted.homepage}\" target=\"_blank\"><h3>${resulted.original_title}</h3></a>\n              <h6></br>The Movie Database</br></br>Genre - ${genreArr}</br></br>Production Companies:</br>${companyArr}</h6>\n              <button class=\"modal-btn\" \n              data-title=\"${resulted.original_title}\" \n              data-img=\"https://image.tmdb.org/t/p/w500${resulted.poster_path}\"\n              data-content=\"${resulted.overview}\" \n              data-link=\"${resulted.homepage}\" \n              type=\"button\">\n                More\n            </button>\n            </section>\n            <section class=\"impressions\">\n              Release Date:</br>${resulted.release_date}\n            </section>\n            <div class=\"clearfix\"></div>\n          </article>\n        `;\n        document.getElementById('main').appendChild(article);\n\n        document.addEventListener('click', function(event) {\n          constructModalContent(event);\n        });\n      });\n    }\n  })\n  .catch(err => console.log(err));\n}\n\n\n\n//Constructing Modal Content\nfunction constructModalContent(event) {\n  if (event.target.classList.value.includes('modal-btn')) {\n    document.querySelector(\"body\").style.overflow = 'hidden';\n    document.getElementById('popUp').style.display = 'block';\n    setTimeout(function() {\n      document.getElementById('popUp').classList.remove('loader');\n    }, 500);\n    document.getElementById('modalInsert').innerHTML = `\n      <h1>${event.target.dataset.title}</h1>\n      <div><img class=\"restrictImage\" src=\"${event.target.dataset.img}\" alt=\"\" /></div>\n      <p>${event.target.dataset.content}</p>   \n      <a href=\"${event.target.dataset.link}\" class=\"popUpAction\" target=\"_blank\">Link to article</a>\n    `;\n  }\n}\n\n//Hit X to close modal\ndocument.getElementById('close').onclick = function() {\n  document.getElementById('popUp').style.display = 'none';\n  document.getElementById('popUp').classList.add('loader'); \n  document.querySelector(\"body\").style.overflow = 'visible'; \n};\n\n//Sets news source from drop down\nfunction setNewsSource(setSourceFunc, text) {\n  document.getElementById('main').innerHTML = ''; //clear out id = \"main\"\n  setSourceFunc();\n  document.getElementById('sourceChoice').innerHTML = '';\n  document.getElementById('sourceChoice').appendChild(document.createTextNode(text));\n}\n\n//Clicking Reddit source to populate article list on DOM\ndocument.getElementById('reddit').addEventListener('click', (evt) => {\n  setNewsSource(reddit, ': Reddit');\n});\n\n//Clicking NEWS API source to populate article list on DOM\ndocument.getElementById('news').addEventListener('click', (evt) => {\n  setNewsSource(newsAPI, ': News API');\n});\n\n//Clicking NYTimes source to populate article list on DOM\ndocument.getElementById('nytimes').addEventListener('click', (evt) => {\n  setNewsSource(nyTimes, ': NY TIMES Science');\n});\n\n//Clicking TMDb source to populate article list on DOM\ndocument.getElementById('tmdb').addEventListener('click', (evt) => {\n  setNewsSource(TMDb, ': TMDb Upcoming Movies');\n});\n\n//Clicking Feedr to populate all articles list on DOM\ndocument.getElementById('feedR').addEventListener('click', (evt) => {\n  document.getElementById('main').innerHTML = ''; //clear out id = \"main\"\n  setNewsSource(reddit, '');\n  setNewsSource(newsAPI, '');\n  setNewsSource(nyTimes, '');\n  setNewsSource(TMDb, '');\n});\n\n//Onload populate all articles list on DOM\nwindow.onload = function() {\n  document.getElementById('main').innerHTML = ''; //clear out id = \"main\"\n  setNewsSource(reddit, '');\n  setNewsSource(newsAPI, '');\n  setNewsSource(nyTimes, '');\n  setNewsSource(TMDb, '');\n}\n\n\n\n\n\n\n"]}